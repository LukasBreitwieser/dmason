<!--
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../neon-animation/neon-shared-element-animatable-behavior.html">
<link rel="import" href="../neon-animation/animations/ripple-animation.html">
<link rel="import" href="../neon-animation/animations/hero-animation.html">
<link rel="import" href="../neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../neon-animation/animations/transform-animation.html">
<link rel="inport" href="simulation-info.html">

<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-item/paper-item-body.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../paper-card/paper-card.html">


<link rel="import" href="../neon-animation/neon-animated-pages.html">
<link rel="import" href="../neon-animation/neon-animations.html">
<link rel="import" href="list-view.html">
<link rel="import" href="full-log-view.html">

<dom-module id="fullsize-page-with-card">
    <template>
        <style>

            :host {
                display: block;
                color:#bdced7;
                font-size: medium;
            }
            .fixed {
                background-color: #646767;
                position: absolute;
                top: 0;
                left: 0;
                margin:10px;
                width: 1024px;
                height: 768px;
                overflow-x: visible;
            }
            .card {
                position: relative;
                margin: 50px auto auto 120px;
                width: 780px;
                height: 580px;
                background-color: #3f4242;
                @apply(--layout-horizontal);
            }

            .simulation-container{
                width: 350px;
                height: 500px;
                @apply(--layout-vertical);
            }


            #back_button{
                float: left;

            }

            paper-card {
                --paper-card-header-color: #bdced7;
                background-color: transparent;
            }

            div.animation-log-container{
                width: 600px;
                margin-left: 30px;

            }
            neon-animated-pages {
                height: 550px;
            }
            paper-button[raised]{
                width: 150px;
            }

            .download-button-container{
                height:300px;
                @apply(--layout-horizontal);
                @apply(--layout-end);
            }

        </style>

        <div id="fixed" class="fixed"><paper-button id="back_button" on-click="go_back"><iron-icon icon="arrow-back"></iron-icon> BACK</paper-button></div>
        <div id="card" class="card">
            <div class="simulation-container">
                <paper-card id="sim_info" heading="Simulation Info">
                    <div class="card-content">
                        <simulation-info sim="{{sim}}"></simulation-info>
                    </div>
                </paper-card>
                <div class="download-button-container">
                <paper-button raised>Download Logs <iron-icon icon="file-download"></iron-icon></paper-button>
                </div>
            </div>
            <div class="animation-log-container">
                <neon-animated-pages id="log_files" selected="0">
                    <list-view list_log="{{listFile}}" on-item-click="_onItemClick"></list-view>
                    <full-log-view on-close="_onClose"></full-log-view>
                </neon-animated-pages>
            </div>
        </div>

    </template>

</dom-module>

<script>
    Polymer({
        is: 'fullsize-page-with-card',
        behaviors: [
            Polymer.NeonSharedElementAnimatableBehavior
        ],
        properties: {
            sim:{
                type: Object
            },
            listFile:{
                type:Array
            },
            sharedElements: {
                type: Object,
                value: function() {
                    return {
                        'hero': this.$.card,
                        'ripple': this.$.fixed
                    }
                }
            },
            animationConfig: {
                type: Object,
                value: function() {
                    return {
                        'entry': [{
                            name: 'ripple-animation',
                            id: 'ripple',
                            toPage: this,
                        }, {
                            name: 'hero-animation',
                            id: 'hero',
                            toPage: this,
                            timing: {
                                delay: 150
                            }
                        }],
                        'exit': [{
                            name: 'fade-out-animation',
                            node: this.$.fixed
                        }, {
                            name: 'transform-animation',
                            transformFrom: 'none',
                            transformTo: 'translate(0px,-200vh) scale(0.9,1)',
                            node: this.$.card
                        }]
                    }
                }
            }
        },
        go_back:function(){
            this.fire('go-back');
        },
        _onItemClick: function() {
            this.$.log_files.selected = 1;
        },
        _onClose: function() {
            this.$.log_files.selected = 0;
        }
    });


</script>