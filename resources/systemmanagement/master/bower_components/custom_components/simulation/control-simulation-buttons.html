<link rel="import" href="../../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../../iron-icons/av-icons.html">


<dom-module id="control-simulation-buttons">
    <template>
        <style>
            :host {
                display: block;
            }

            paper-button{
                width: 50px;
                margin:0;
                font-size: medium;
            }
            paper-button[disabled]{
                background: transparent;
            }

        </style>
        <div class="layout horizontal center">
            <paper-button raised id="play" on-click="showButton"><iron-icon icon="av:play-circle-filled"></iron-icon> Play</paper-button>
            <paper-button raised disabled id="pause" on-click="showButton"><iron-icon icon="av:pause-circle-outline"></iron-icon>Pause</paper-button>
            <paper-button raised disabled id="stop" on-click="showButton"><iron-icon icon="av:stop"></iron-icon>Stop</paper-button>
        </div>
    </template>
</dom-module>

<script>
    Polymer({
        is: 'control-simulation-buttons',
        behaviors: [
            Polymer.NeonSharedElementAnimatableBehavior
        ],

        properties: {
            simID:{
                type:String
            }
        },

        showButton: function (event){
                var buttons = event.target.parentElement.querySelectorAll('paper-button');
                Array.prototype.forEach.call(buttons, function(button) {

                        if(event.target.id == "pause") {
                            if (button.id != "stop") {
                                button.disabled = !button.disabled;
                            }
                        }else{
                            if(event.target.id == "stop") {
                                    if (button.id != "pause") {
                                        button.disabled = !button.disabled;
                                    }
                            }
                            else{
                                 button.disabled = !button.disabled;
                            }
                        }
                    });
            this.fire('submit-sim', {
                tile: event.target.parentElement,
                data: ""+event.target.id
            });
        }
    });
</script>