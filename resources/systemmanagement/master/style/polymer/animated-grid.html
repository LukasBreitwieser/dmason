<!--
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/neon-animation/neon-shared-element-animatable-behavior.html">
<link rel="import" href="../../bower_components/neon-animation/demo/shared-styles.html">

<dom-module id="animated-grid">
    <template>
        <style include="shared-styles"></style>
        <style>
            :host{
                display: block;
            }
            .tile {
                display: inline-block;
                float: left;
                vertical-align: top;
                width: calc(100% / 6);
                height: calc(100% / 3);
            @apply(--paper-font-title);
            @apply(--layout-vertical);
            @apply(--layout-center-center);
            }

        </style>


            <div class="grid-item-simulations">
                <span>Simulation </span>
            </div>

    </template>
</dom-module>

<script>
    Polymer({
        is: 'animated-grid',
        behaviors: [
            Polymer.NeonSharedElementAnimatableBehavior
        ],
        properties: {
            animationConfig: {
                type: Object,
                value: function() {
                    return {
                        'exit': [{
                            name: 'ripple-animation',
                            id: 'ripple',
                            fromPage: this
                        },
                        {
                            name: 'hero-animation',
                            id: 'hero',
                            fromPage: this
                        }]
                    }
                }
            }
        },
        listeners: {
            click: '_onClick'
        },

        _onClick: function(event) {
            alert('Patriziaaa');
            var target = event.target;
            while (target !== this && !target._templateInstance) {
                target = target.parentNode;
            }
            // configure the page animation
            this.sharedElements = {
                'hero': target,
                'ripple': target
            };
            this.animationConfig['exit'][0].gesture = {
                x: event.x || event.pageX,
                y: event.y || event.pageY
            };
            this.fire('tile-click', {
                data: target._templateInstance.item
            });
        }
    });
</script>